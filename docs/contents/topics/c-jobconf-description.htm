<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="../../_rhdefault.css"/></head><body id="conceptId" class="concept topic" lang="en_US"><div class="breadcrumbs"><div><div><a href="">ThunderBird StormCluster System</a></div><div><a href="contents/topics/c-jobconf-description">Description of jobconf command</a></div></div></div><h1 class="title">Description of jobconf command</h1><div class="shortdesc"><div><div><span>Use to </span><strong class="cmdname keyword">jobconf</strong><span> to submit live job reconfiguration requests.</span></div></div></div><div class="p">The command <strong class="cmdname keyword">jojobconf</strong> is enabled when <span class="parmname keyword display-inline">CLUSTER_LIVE_CONFDIR</span> is defined in<span class="filepath ph display-inline"> cluster.conf</span>. </div><div class="p">This command allows configuration changes without restarting the cluster or any daemons. Changes are made in active memory, and updated configuration files are written to the directory defined by parameter <span class="parmname keyword display-inline">CLUSTER_LIVE_CONFDIR</span>. Original configuration files are not changed. Configuration changes made using <strong class="cmdname keyword">jobconf</strong> cannot be rolled back. Undo unwanted configuration changes by undoing configuration changes with reverse <strong class="cmdname keyword">jobconf</strong> requests or by manually removing or replacing configuration files in <span class="parmname keyword display-inline">CLUSTER_LIVE_CONFDIR</span> before restart or reconfiguration. </div><div class="p">The first <strong class="cmdname keyword">jobconf</strong> command executed after restart or reconfiguration backs up the files that were loaded into memory. All files that <strong class="cmdname keyword">jobconf</strong> can change are backed up in <span class="parmname keyword display-inline">CLUSTER_LIVE_CONFDIR</span> as *.bak files. The backup files always represent the configuration before any <strong class="cmdname keyword">jobconf</strong> commands were executed. </div><div class="p">Only cluster administrators can run all <strong class="cmdname keyword">jobconf</strong> commands. All users can run <strong class="cmdname keyword">jobconf hist</strong> queries. All <strong class="cmdname keyword">jobconf</strong> requests must be made from static servers. All configuration files should be free from warning messages before enabling live reconfiguration, and multiple sections in configuration files should be merged where possible. </div><div class="p">It is recommended that the order of sections and the syntax used in the configuration file templates be maintained in all configuration files used with live reconfiguration.</div><div class="p"><div class="note important" data-attr-type="important"><div><div><span class="prefix-content">Important: </span></div></div><div class="p"><div><span>Remove </span><span class="parmname keyword display-inline">LIVE_CONFDIR</span><span> configuration files or merge files into </span><span class="parmname keyword display-inline">CONFDIR</span><span> before upgrading or applying patches. </span><strong class="cmdname keyword">jobconf</strong><span> supports common configuration changes; not all configuration changes can be made using </span><strong class="cmdname keyword">jobconf</strong><span>. </span></div></div></div></div><div class="p">When using time-based configuration, changes to global configuration are changed globally, and changes to configuration for the active time window are changed only for the time window. Configuration files changed by <strong class="cmdname keyword">jobconf</strong>:<ul id="ul_hrv_qdk_ae" class="ul"><li class="li"><div class="p"><span class="filepath ph display-inline">cluster.resources</span></div></li><li class="li"><div class="p"><span class="filepath ph display-inline">cluster.queues</span></div></li><li class="li"><div class="p"><span class="filepath ph display-inline">cluster.users</span></div></li><li class="li"><div class="p"><span class="filepath ph display-inline">cluster.hosts</span></div></li><li class="li"><div class="p"><span class="filepath ph display-inline">live.cluster.</span><em class="varname keyword">clustername</em></div></li><li class="li"><div class="p"><span class="filepath ph display-inline">cluster.serviceclasses</span></div></li></ul></div><div class="p">Making manual changes to the configuration files above while <strong class="cmdname keyword">jobconf</strong> is enabled automatically disables this feature and further live reconfiguration requests will be rejected. <strong class="cmdname keyword">jobconf</strong> makes changes to objects, or configuration blocks enclosed in Begin and End statements in the configuration files. One <strong class="cmdname keyword">jobconf</strong> request can affect several configured objects. </div></body></html>