<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="../../_rhdefault.css"/></head><body id="troubleshooting_cannot_add_cluster" class="task topic" lang="en_US"><div class="breadcrumbs"><div><div><a href="">ThunderBird StormCluster System</a></div><div><a href="contents/topics/t-troubleshooting-cannot-add-cluster">Troubleshooting the inability to add a cluster</a></div></div></div><h1 class="title">Troubleshooting the inability to add a cluster</h1><div class="shortdesc"><div><div><span>Immediate actions to take when a cluster cannot be added to </span><em class="term display-inline">ClusterControl</em><span>.</span></div></div></div><div class="p">If you have attempted to target a new cluster but you cannot get the addition acknowledged within <em class="term display-inline">ClusterControl</em>, then use the following steps to isolate and resolve the problem. This situation can arise for clusters deployed in either execution or submission roles.</div><ol id="steps_hdv_nqk_ake" class="steps ol"><li class="stepsection li">To troubleshoot why a cluster cannot be added:</li><li class="step li"><span class="cmd ph display-inline">If you fail to receive any message during the cluster reporting poll, then try directly polling the unresponsive cluster directly.</span><ol class="substeps ol"><li class="substep li"><span class="cmd ph display-inline">In Configuration Tool <span class="uicontrol ph display-inline">Connections</span> task, select the applicable cluster.</span></li><li class="substep li"><span class="cmd ph display-inline">At the bottom of the <span class="uicontrol ph display-inline">Connections</span> task, click <span class="uicontrol ph display-inline">Poll</span>.</span><div class="info itemgroup"><span class="prefix-content">ADDITIONAL INFORMATION: </span><ul class="ul"><li class="li">If there is no reply, the cluster may be offline (the hardware infrastructure could be malfunctioning), or there is a problem with your network connectivity. Contact the approriate system administrators in order to isolate any problems at the physical connectivity layer.</li><li class="li">If you can poll the cluster, and get a response, then continue with the next step.</li></ul></div></li></ol></li><li class="step li"><span class="cmd ph display-inline">Open the clusterâ€™s configuration web page by typing its IP address into the <span class="uicontrol ph display-inline">configuration lookup panel</span>.</span><div class="info itemgroup"><span class="prefix-content">ADDITIONAL INFORMATION: </span>This is also where you can determine if you have the correct credentials for the cluster.</div></li><li class="step li"><span class="cmd ph display-inline">Restart the cluster.</span><ol class="substeps ol"><li class="substep li"><span class="cmd ph display-inline">In Configuration Tool <span class="uicontrol ph display-inline">Control</span> task, select select the applicable cluster.</span></li><li class="substep li"><span class="cmd ph display-inline">At the bottom of the Configuration Tool <span class="uicontrol ph display-inline">Control</span> task panel, click <span class="uicontrol ph display-inline">Reboot</span>.</span></li></ol></li><li class="step li"><span class="cmd ph display-inline">Try adding the cluster to <em class="term display-inline">ClusterControl</em>again.</span></li><li id="UnitIsSupported_Step" class="step li"><span class="cmd ph display-inline">Make sure the hardware configuration deployed for the cluster is supported by <em class="term display-inline">ClusterControl</em>, and that it is running the certified firmware.</span><div class="info itemgroup"><span class="prefix-content">ADDITIONAL INFORMATION: </span>For a list of supported hardware configurations, and for known compatibility issues, see the register of supported hardware.</div></li><li class="step li"><span class="cmd ph display-inline">Make sure you are using the correct credentials when trying to add the unit. For some hardware manufacturers, you may have to set the default credentials for the respective hardware before resetting the credentials after the cluster has been added.</span><ol class="substeps ol"><li class="substep li"><span class="cmd ph display-inline">Consult the hardware manufacturer&#39;s reference documentation in order to locate the default credentials for the applicable hardware.</span></li><li class="substep li"><span class="cmd ph display-inline">Reset the hardware to the default credentials using the applicable hardware configuration interface.</span></li><li class="substep li"><span class="cmd ph display-inline">In <em class="term display-inline">ClusterControl</em>, access the Configuration Tool <span class="uicontrol ph display-inline">Set up</span> task.</span></li><li class="substep li"><span class="cmd ph display-inline">Click the <span class="uicontrol ph display-inline">Add Clusters</span> tab.</span></li><li class="substep li"><span class="cmd ph display-inline">To add the new cluster unit, click <span class="uicontrol ph display-inline">Add a cluster</span>, select the extension type, and click <span class="uicontrol ph display-inline">Add</span>.</span></li><li class="substep li"><span class="cmd ph display-inline">When prompted by the <span class="uicontrol ph display-inline">Enter credentials</span> dialogue, input the default hardware credentials.</span></li><li class="substep li"><span class="cmd ph display-inline">Select the new cluster.</span></li><li class="substep li"><span class="cmd ph display-inline">In the <span class="uicontrol ph display-inline">Default logon</span> section, enter the new username and password for the cluster.</span></li></ol></li><li class="step li"><span class="cmd ph display-inline">Make sure the Cluster is connected to the correct <em class="term display-inline">ClusterStore</em> database, as follows:</span><ol class="substeps ol"><li class="substep li"><span class="cmd ph display-inline">In Configuration Tool <span class="uicontrol ph display-inline">Cluster</span> task, select the the applicable cluster.</span></li><li class="substep li"><span class="cmd ph display-inline">Click the <span class="uicontrol ph display-inline">Resources</span> tab.</span><div class="info itemgroup"><span class="prefix-content">ADDITIONAL INFORMATION: </span><ul class="ul"><li class="li">If the database status is <span class="uicontrol ph display-inline">Connected</span>, go to the next step.</li><li class="li">If the database status is <span class="uicontrol ph display-inline">Disconnected</span> or <span class="uicontrol ph display-inline">Unavailable</span>, click <span class="uicontrol ph display-inline">Connect to database</span>.<div class="p"><span class="prefix-content">Caution: </span>Do not overwrite the disconnected or unavailable database connection, as this can lead to data loss. Be use to save copies of any database connection configurations before deleting or modifying them.<div class="note"><div><div><span class="prefix-content">Note: </span><span>When you create a new database connection, searches or administrative routines that were in place for previous connections will need to be respecified for the new database connection.</span></div></div></div></div></li></ul></div></li></ol></li><li class="step li"><span class="cmd ph display-inline">Make sure the associated execution clusters are also connected to the correct <em class="term display-inline">ClusterStore</em> database.</span><div class="info itemgroup"><span class="prefix-content">ADDITIONAL INFORMATION: </span>If there is an issue with associated execution clusters, this may be a sign that there are more serious problems with the configuration of the <em class="term display-inline">ClusterControl</em> environment or with the network environment.</div><ol class="substeps ol"><li class="substep li"><span class="cmd ph display-inline">In Configuration Tool <span class="uicontrol ph display-inline">System</span> task, select the <span class="uicontrol ph display-inline">Job Router</span>.</span></li><li class="substep li"><span class="cmd ph display-inline">Click the <span class="uicontrol ph display-inline">Resources</span> tab.</span><div class="info itemgroup"><span class="prefix-content">ADDITIONAL INFORMATION: </span><ul class="ul"><li class="li">If the Job Router database status is <span class="uicontrol ph display-inline">Connected</span>, go to the next step.</li><li class="li">If the Job Router database status is <span class="uicontrol ph display-inline">Disconnected</span> or <span class="uicontrol ph display-inline">Unavailable</span>, click <span class="uicontrol ph display-inline">Connect to database</span> .</li></ul></div></li></ol></li><li class="step li"><span class="cmd ph display-inline">Try adding the unit with the network firewall turned off. This will determine if the problems are related to interference in network connectivity due to secutity settings. </span><div class="info itemgroup"><span class="prefix-content">ADDITIONAL INFORMATION: </span>For information about how to disable the network firewall, request assistance from your network administrator.<div class="note important" data-attr-type="important"><div><div><span class="prefix-content">Important: </span><span>Do not turn off the firewall permanently. Reactivate it after your tests are complete.</span></div></div></div></div></li><li class="step li"><span class="cmd ph display-inline">Make sure your networks are configured properly, as follows:</span><ol class="substeps ol"><li class="substep li"><span class="cmd ph display-inline">In the Configuration Tool <span class="uicontrol ph display-inline">Network view</span> task, select a network.</span></li><li class="substep li"><span class="cmd ph display-inline">Click the <span class="uicontrol ph display-inline">Properties</span> tab, and make sure all the settings are correct (IP prefix, subnet mask, routes, and so on).</span></li><li class="substep li"><span class="cmd ph display-inline">Initiate a network diagnosis by selecting <span class="uicontrol ph display-inline">Test Network</span>.</span></li><li class="substep li"><span class="cmd ph display-inline">Repeat these steps for all the networks on your system.</span></li></ol><div class="info itemgroup"><span class="prefix-content">ADDITIONAL INFORMATION: </span>This activity should be done in collaboration with your network administrators.</div></li><li class="step li"><span class="cmd ph display-inline">Make sure the Cluster, Job Router, and all redirectors are using the correct addresses in their requests.</span><ol class="substeps ol"><li class="substep li"><span class="cmd ph display-inline">In the Configuration Tool <span class="uicontrol ph display-inline">System</span> task, click the <span class="uicontrol ph display-inline">Directory</span> view.</span></li><li class="substep li"><span class="cmd ph display-inline">Select the Physical view, and click the <span class="uicontrol ph display-inline">Resources</span> tab.</span></li><li class="substep li"><span class="cmd ph display-inline">From the <span class="uicontrol ph display-inline">Resources</span> drop-down list, select the appropriate resources in sequence and verify the associated network addresses.</span></li><li class="substep li"><span class="cmd ph display-inline">In the Logical view, select the Job Router role, and click the <span class="uicontrol ph display-inline">Resources</span> tab.</span></li><li class="substep li"><span class="cmd ph display-inline">Under the <span class="uicontrol ph display-inline">Servers</span> section, click <span class="uicontrol ph display-inline">Advanced</span>.</span></li><li class="substep li"><span class="cmd ph display-inline">Select the appropriate <span class="uicontrol ph display-inline">Network address</span> for each server, and click <span class="uicontrol ph display-inline">Validate</span>.</span></li><li class="substep li"><span class="cmd ph display-inline">Click the <span class="uicontrol ph display-inline">Properties</span> tab.</span></li><li class="substep li"><span class="cmd ph display-inline">Select a <span class="uicontrol ph display-inline">Redirector</span>, and click <span class="uicontrol ph display-inline">Edit the item</span>.</span></li><li class="substep li"><span class="cmd ph display-inline">From the <span class="uicontrol ph display-inline">cluster interface</span> drop-down list, select the appropriate cluster.</span></li><li class="substep li"><span class="cmd ph display-inline">Repeat the last two steps for each redirector.</span></li></ol></li><li class="step li"><span class="cmd ph display-inline">Try adding the cluster to <em class="term display-inline">ClusterControl</em>.</span></li><li class="step li"><span class="cmd ph display-inline">Make sure the Job Router process is online, as follows:</span><ol class="substeps ol"><li class="substep li"><span class="cmd ph display-inline">In the Config Tool <span class="uicontrol ph display-inline">System</span> task, select the Job Router process.</span></li><li class="substep li"><span class="cmd ph display-inline">At the bottom of the <span class="uicontrol ph display-inline">System</span> task, click <span class="uicontrol ph display-inline">Diagnose</span>.</span></li><li class="substep li"><span class="cmd ph display-inline">If there are issues, try to fix them.</span></li></ol></li><li class="step li"><span class="cmd ph display-inline">Make sure the <em class="term display-inline">ClusterStore</em> database is online, as follows:</span><ol class="substeps ol"><li class="substep li"><span class="cmd ph display-inline">In the Config Tool <span class="uicontrol ph display-inline">System</span> task, select the Database.</span><div class="info itemgroup"><span class="prefix-content">ADDITIONAL INFORMATION: </span>Confirm that the correct Database has been selected.</div></li><li class="substep li"><span class="cmd ph display-inline">At the bottom of the <span class="uicontrol ph display-inline">System</span> task, click <span class="uicontrol ph display-inline">Diagnose</span>.</span><div class="info itemgroup"><span class="prefix-content">ADDITIONAL INFORMATION: </span>The diagnosis process will identify a series of issues. The most common issues relate to incorrect identifiers having been included in the Database.</div></li><li class="substep li"><span class="cmd ph display-inline">For each of the issues identified, take corrective action as directed by the diagnosis instructions.</span></li></ol></li><li class="step li"><span class="cmd ph display-inline">Make sure the Execution Clusters are online, as follows:</span><ol class="substeps ol"><li class="substep li"><span class="cmd ph display-inline">In the Config Tool <span class="uicontrol ph display-inline">System</span> task, select each of the applicable Clusters.</span></li><li class="substep li"><span class="cmd ph display-inline">At the bottom of the <span class="uicontrol ph display-inline">System</span> task, click <span class="uicontrol ph display-inline">Diagnose</span>.</span></li><li class="substep li"><span class="cmd ph display-inline">For each of the issues identified, take corrective action as directed by the diagnosis instructions.</span></li></ol></li><li class="step li"><span class="cmd ph display-inline">Restart the cluster.</span></li><li class="step li"><span class="cmd ph display-inline">Try adding the cluster to <em class="term display-inline">ClusterControl</em>.</span></li><li class="step li"><span class="cmd ph display-inline">Test the Cluster connection.</span></li><li class="step li"><span class="cmd ph display-inline">If you still cannot add the cluster, contact <em class="term display-inline">Thunderbird</em> technical support.</span></li></ol></body></html>