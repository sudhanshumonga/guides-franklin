<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body id="conceptId" class="topic concept" lang="en_US"><div class="breadcrumbs"><div><div><a href="">ThunderBird StormCluster System</a></div><div><a href="contents/topics/c-jobconf-description">Description of jobconf command</a></div></div></div><h1 class="title">Description of jobconf command</h1><p class="shortdesc">Use to <strong class="keyword cmdname">jobconf</strong> to submit live job reconfiguration requests.</p><p class="p">The command <strong class="keyword cmdname">jojobconf</strong> is enabled when <span class="keyword parmname display-inline">CLUSTER_LIVE_CONFDIR</span> is defined in<span class="ph filepath display-inline"> cluster.conf</span>. </p><p class="p">This command allows configuration changes without restarting the cluster or any daemons. Changes are made in active memory, and updated configuration files are written to the directory defined by parameter <span class="keyword parmname display-inline">CLUSTER_LIVE_CONFDIR</span>. Original configuration files are not changed. Configuration changes made using <strong class="keyword cmdname">jobconf</strong> cannot be rolled back. Undo unwanted configuration changes by undoing configuration changes with reverse <strong class="keyword cmdname">jobconf</strong> requests or by manually removing or replacing configuration files in <span class="keyword parmname display-inline">CLUSTER_LIVE_CONFDIR</span> before restart or reconfiguration. </p><p class="p">The first <strong class="keyword cmdname">jobconf</strong> command executed after restart or reconfiguration backs up the files that were loaded into memory. All files that <strong class="keyword cmdname">jobconf</strong> can change are backed up in <span class="keyword parmname display-inline">CLUSTER_LIVE_CONFDIR</span> as *.bak files. The backup files always represent the configuration before any <strong class="keyword cmdname">jobconf</strong> commands were executed. </p><p class="p">Only cluster administrators can run all <strong class="keyword cmdname">jobconf</strong> commands. All users can run <strong class="keyword cmdname">jobconf hist</strong> queries. All <strong class="keyword cmdname">jobconf</strong> requests must be made from static servers. All configuration files should be free from warning messages before enabling live reconfiguration, and multiple sections in configuration files should be merged where possible. </p><p class="p">It is recommended that the order of sections and the syntax used in the configuration file templates be maintained in all configuration files used with live reconfiguration.</p><p class="p"></p><div class="p"><div class="important note" data-attr-type="important"><span class="prefix-content">Important: </span><p class="p">Remove <span class="keyword parmname display-inline">LIVE_CONFDIR</span> configuration files or merge files into <span class="keyword parmname display-inline">CONFDIR</span> before upgrading or applying patches. <strong class="keyword cmdname">jobconf</strong> supports common configuration changes; not all configuration changes can be made using <strong class="keyword cmdname">jobconf</strong>. </p></div></div><p class="p"></p><p class="p">When using time-based configuration, changes to global configuration are changed globally, and changes to configuration for the active time window are changed only for the time window. Configuration files changed by <strong class="keyword cmdname">jobconf</strong>:</p><div class="p"><ul id="ul_hrv_qdk_ae" class="ul"><li class="li"><p class="p"><span class="ph filepath display-inline">cluster.resources</span></p></li><li class="li"><p class="p"><span class="ph filepath display-inline">cluster.queues</span></p></li><li class="li"><p class="p"><span class="ph filepath display-inline">cluster.users</span></p></li><li class="li"><p class="p"><span class="ph filepath display-inline">cluster.hosts</span></p></li><li class="li"><p class="p"><span class="ph filepath display-inline">live.cluster.</span><em class="keyword varname">clustername</em></p></li><li class="li"><p class="p"><span class="ph filepath display-inline">cluster.serviceclasses</span></p></li></ul></div><p class="p"></p><p class="p">Making manual changes to the configuration files above while <strong class="keyword cmdname">jobconf</strong> is enabled automatically disables this feature and further live reconfiguration requests will be rejected. <strong class="keyword cmdname">jobconf</strong> makes changes to objects, or configuration blocks enclosed in Begin and End statements in the configuration files. One <strong class="keyword cmdname">jobconf</strong> request can affect several configured objects. </p></body></html>